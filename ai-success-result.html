<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>AI í…ŒìŠ¤íŠ¸ ê²°ê³¼ - ì„±ê³µ</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f6f9fc;
      margin: 0;
      padding: 40px;
    }

    .container {
      max-width: 800px;
      margin: auto;
      background: white;
      border-radius: 12px;
      padding: 40px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
      text-align: center;
    }

    .success-icon {
      font-size: 60px;
      margin-bottom: 20px;
    }

    .title {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .desc {
      color: #666;
      margin-bottom: 30px;
    }

    .info-box {
      background: #f1f5f9;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 30px;
      text-align: left;
    }

    .btn-group button {
      padding: 10px 20px;
      margin: 5px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      font-size: 14px;
    }

    .btn-primary {
      background: #2563eb;
      color: white;
    }

    .btn-secondary {
      background: #e5e7eb;
    }
  </style>
</head>
<body>

<div class="container">
  <div class="success-icon">âœ…</div>

  <div class="title">AI í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤</div>
  <div class="desc" id="resultDesc">ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤ê°€ ì •ìƒ í†µê³¼ë˜ì—ˆìŠµë‹ˆë‹¤.</div>

  <div class="info-box">
    <p><strong>ì‹œë‚˜ë¦¬ì˜¤ëª…:</strong> <span id="scenarioName"></span></p>
    <p><strong>ì´ Step ìˆ˜:</strong> <span id="stepCount"></span>ê°œ</p>
    <p><strong>ì‹¤í–‰ ê²°ê³¼:</strong> <span id="resultStatus">PASS</span></p>
  </div>

  <div class="btn-group">
    <div style="margin-top:24px; text-align:right;">
  <button
    style="
      padding:10px 16px;
      border-radius:8px;
      border:none;
      background:#2563eb;
      color:#ffffff;
      font-size:14px;
      cursor:pointer;
    "
    onclick="location.href='ai_running.html?mode=result'">
    QA ì‹¤í–‰ ìƒì„¸ ì´ë ¥ ë³´ê¸°
  </button>
</div>
    <button class="btn-primary" onclick="downloadReport()">ë¦¬í¬íŠ¸ ë‹¤ìš´ë¡œë“œ</button>
    <button class="btn-secondary" onclick="goHome()">ì²˜ìŒìœ¼ë¡œ</button>
  </div>
</div>

<script>
  const scenarioName = localStorage.getItem("scenarioFileName") || "ì‹œë‚˜ë¦¬ì˜¤";
  const stepCount = localStorage.getItem("totalStepCount") || 0;
  const resultType = sessionStorage.getItem("lastResultType") || "success";

  const logs = JSON.parse(sessionStorage.getItem("aiRunLogs") || "[]");
  const warningCount = logs.filter(log => log.type === "warning").length;

  document.getElementById("scenarioName").innerText = scenarioName;
  document.getElementById("stepCount").innerText = stepCount;

  const descEl = document.getElementById("resultDesc");
  const statusEl = document.getElementById("resultStatus");

  // ğŸ”¥ ê²½ê³  ì¼€ì´ìŠ¤
  if (resultType === "warning") {

    document.querySelector(".success-icon").innerText = "âš ";
    document.querySelector(".title").innerText =
      "AI í…ŒìŠ¤íŠ¸ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤ (ê²½ê³  ë°œìƒ)";

    descEl.innerHTML =
      `${warningCount}ê°œì˜ ì˜¤ë¥˜ë¥¼ ì œì™¸í•˜ê³  ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤ê°€ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.`;

    statusEl.innerText = "WARNING";
    statusEl.style.color = "#b45309";

    document.querySelector(".container").style.borderTop =
      "6px solid #f59e0b";
  }

  // âœ… ì„±ê³µ ì¼€ì´ìŠ¤
  else {

    descEl.innerHTML =
      "ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤ê°€ ì •ìƒ í†µê³¼ë˜ì—ˆìŠµë‹ˆë‹¤.";

    statusEl.innerText = "PASS";
    statusEl.style.color = "#047857";

    document.querySelector(".container").style.borderTop =
      "6px solid #10b981";
  }

  function downloadReport() {
    alert("ì„±ê³µ ë¦¬í¬íŠ¸ ë‹¤ìš´ë¡œë“œ (êµ¬í˜„ ê°€ëŠ¥)");
  }

  function goHome() {
    window.location.href = "index.html";
  }
</script>

</body>
</html>
